{% extends 'base.html.twig' %}

{% block title %}Register{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" type='text/css' href="{{ asset('css/form.css') }}">
{% endblock %}
{% block javascripts %}
    <script type="text/javascript">
        document.getElementById('registration_form_roles').removeAttribute('multiple');
    </script>
{% endblock %}
{% block body %}
    {% if app.user %}
        <h1>Register</h1>
        <h4>Are you registered</h4>
        <input
            onclick="window.history.go(-1); return false;"
            type="submit"
            value="Cancel"
            class="btn btn-default navbar-btn"
        />
    {% else %}
        {% for flashError in app.flashes('verify_email_error') %}
            <div class="alert alert-danger" role="alert">{{ flashError }}</div>
        {% endfor %}
        <div class="form-style form-style__padding">
            <h1>Register</h1>

            {{ form_start(registrationForm) }}
            {{ form_row(registrationForm.username) }}
            {{ form_row(registrationForm.email) }}
            {{ form_row(registrationForm.plainPassword, {
                label: 'Password'
            }) }}
            {{ form_row(registrationForm.roles, {
                label: 'Role',
            }) }}
            <button type="submit" class="btn btn-default float-right">Register</button>
            {{ form_end(registrationForm) }}
        </div>
    {% endif %}
{% endblock %}
